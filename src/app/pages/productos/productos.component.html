<div class="productos-container">
  <div class="overlay"></div>
  <div class="content">
    <h1>üì¶ Gesti√≥n de Productos</h1>
    <p>Administra, busca y organiza los productos.</p>

    <!-- üîç Buscador -->
    <div class="busqueda">
      <input type="text" [(ngModel)]="filtro" placeholder="Buscar por nombre o descripci√≥n..." />
      <input type="number" [(ngModel)]="idBusqueda" placeholder="Buscar por ID" />
      <button (click)="buscarPorId()">Buscar</button>
    </div>

    <!-- üßæ Tabla -->
    <div class="tabla-container">
      <table>
        <thead>
        <tr>
          <th>ID</th>
          <th>Nombre</th>
          <th>Descripci√≥n</th>
          <th>Precio</th>
          <th>Disponible</th>
          <th>Tipo</th>
          <th>Acciones</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let producto of productosFiltrados">
          <td>{{ producto.id }}</td>
          <td>{{ producto.nombre }}</td>
          <td>{{ producto.descripcion }}</td>
          <td>{{ producto.precio | currency:'COP':'symbol-narrow' }}</td>
          <td>
              <span [class.disponible]="producto.disponible" [class.no-disponible]="!producto.disponible">
                {{ producto.disponible ? 'S√≠' : 'No' }}
              </span>
          </td>
          <td>{{ producto.tipo }}</td>
          <td>
            <button class="editar" (click)="abrirFormulario(true, producto)">‚úèÔ∏è</button>
            <button class="eliminar" (click)="eliminarProducto(producto.id)">üóëÔ∏è</button>
          </td>
        </tr>
        </tbody>
      </table>
    </div>

    <!-- ‚öôÔ∏è Bot√≥n Agregar -->
    <div class="acciones">
      <button class="agregar" (click)="abrirFormulario(false)">‚ûï Agregar Producto</button>
    </div>

    <!-- üßæ Modal -->
    <div class="modal" *ngIf="mostrarFormulario">
      <div class="modal-content">
        <h2>{{ modoEdicion ? '‚úèÔ∏è Editar Producto' : '‚ûï Nuevo Producto' }}</h2>

        <form (ngSubmit)="guardarProducto()">
          <input type="text" [(ngModel)]="nuevoProducto.nombre" name="nombre" placeholder="Nombre" required />
          <input type="text" [(ngModel)]="nuevoProducto.descripcion" name="descripcion" placeholder="Descripci√≥n" required />
          <input type="number" [(ngModel)]="nuevoProducto.precio" name="precio" placeholder="Precio" required />
          <input type="text" [(ngModel)]="nuevoProducto.tipo" name="tipo" placeholder="Tipo" required />
          <label>
            Disponible:
            <input type="checkbox" [(ngModel)]="nuevoProducto.disponible" name="disponible" />
          </label>

          <div class="botones-form">
            <button type="submit">{{ modoEdicion ? 'Actualizar' : 'Agregar' }}</button>
            <button type="button" (click)="cerrarFormulario()">Cancelar</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
